!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),n(2),n(3),e.exports=n(4)},function(e,t){[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},function(e,t){var n=document.querySelector("#container");function o(){n.innerHTML='\n        <div id="tubeditInfo">\n            <span>Tubedit</span>\n            <h2>\n                is an online application that can be used to make simple edits to your video. It has many easy to use tools, that will make your video\n                even cooler!\n            </h2>\n            <div id="tubeditInfoBtn">Ok</div>\n         </div>',document.querySelector("#tubeditInfoBtn").addEventListener("click",i)}function r(){n.innerHTML='<div id="stepBox">\n            <div id="goBack" style="top:15%">\n                <img src=\'../img/goBack.png\'>\n            </div>\n            <h2 class="containerText">Please paste link to YouTube video below.</h2>\n            <input type="text" id="pasteArea">\n            <input type="button" id="saveInfo" value="Done">\n         </div>',document.querySelector("#goBack").addEventListener("click",i),document.querySelector("#saveInfo").addEventListener("click",d)}function i(){window.location.reload()}function d(){var e,t=document.querySelector("#pasteArea").value.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);t&&11==t[2].length&&(e=t[2]),sessionStorage.setItem("url",e),window.location.href="../html/edit.html"}null!==document.querySelector(".typeInfo")&&(null!==document.querySelector("#edit")&&document.querySelector("#edit").addEventListener("click",r),null!==document.querySelector("#whatIsIt")&&document.querySelector("#whatIsIt").addEventListener("click",o))},function(e,t){var n,o,r,i={imgCounter:1,muteCounter:1,soundCounter:1,textCounter:1,brushCounter:1,switchCounter:1,videoCounter:1,deleteCounter:1,linkCounter:1,cutCounter:1},d=!1,u=[{id:function(){if(null===localStorage.getItem("videoCounter")){return localStorage.setItem("videoCounter",0),0}return localStorage.setItem("videoCounter",parseInt(localStorage.getItem("videoCounter"))+1),localStorage.getItem("videoCounter")}(),url:sessionStorage.getItem("url"),title:"",img:"https://img.youtube.com/vi/".concat(sessionStorage.getItem("url"),"/0.jpg")}],c=[],l=null,a=0,m=null,s={},y=0;function v(){var e=document.querySelector("#image"),t=document.querySelector("#sound"),o=document.querySelector("#video"),r=document.querySelector("#brush"),i=document.querySelector("#link"),c=document.querySelector("#mute"),l=document.querySelector("#text"),a=document.querySelector("#delete"),m=document.querySelector("#watchVideo"),s=document.querySelector("#saveVideo");null!==e&&e.addEventListener("click",(function(){return M("img")})),null!==t&&t.addEventListener("click",(function(){return M("sound")})),null!==o&&o.addEventListener("click",(function(){return M("video")})),null!==r&&r.addEventListener("click",C),null!==i&&i.addEventListener("click",q),null!==c&&c.addEventListener("click",x),null!==l&&l.addEventListener("click",H),null!==a&&a.addEventListener("click",k),null!==m&&m.addEventListener("click",(function(){d=!0,setTimeout((function(){return ie(n,u)}),500)})),null!==s&&s.addEventListener("click",h)}function p(e,t){if(!ae()){var o=document.querySelector("#markerContainer").offsetWidth*n.getCurrentTime()/n.getDuration(),r=document.createElement("div"),i=new Image,d=!0;r.className="marker",r.dataset.id=t,r.style.left=g(o,document.querySelector("#markerContainer").offsetWidth),r.appendChild(i),i.src="../img/".concat(e,".png"),document.querySelectorAll(".marker").forEach((function(n){parseInt(n.dataset.id)===t&&n.children[0].src.includes(e)&&parseInt(n.style.left)>parseInt(r.style.left)&&(d=!1)})),d&&document.querySelector("#markerContainer").appendChild(r)}}function g(e,t){var n=100*e/parseInt(t);return"".concat(n,"%")}function h(){var e=document.createElement("div"),t=document.createElement("div");t.id="overlayer",e.id="savePopup",c.push(u),localStorage.setItem("videos",JSON.stringify(c)),e.innerHTML='<h1>Your video was saved</h1>\n         <input type="text" placeholder="Type video title"/>\n         <a href="../html/watch.html">\n            <div class="tubeEditBtn">Watch video</div>\n         </a>',document.body.append(e,t),document.querySelector("#savePopup input").addEventListener("change",(function(e){c[c.length-1][0].title+=e.target.value,localStorage.setItem("videos",JSON.stringify(c))}))}function S(e,t){p(t[t.length-1],t[0]);var o=document.createElement("div");o.id=t[1],o.className="simpleTool",o.innerHTML=t[2],document.querySelector("#container").appendChild(o),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e,t,o,r){document.querySelector("#player").style.position="static",document.querySelector("#player").style.width="100%",document.querySelector("#player").style.height="100%",window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="81%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="71%");r.endPoint=n.getCurrentTime(),p(t,e),f(t,e),u.push(r),o.remove(),n.pauseVideo(),document.querySelector("#goBack").remove()}(t[0],t[3],o,e)}))}function f(e,t){var n=document.querySelectorAll(".marker"),o=[],r=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e}();return n.forEach((function(n){n.children[0].src.includes(e)&&parseInt(n.dataset.id)===t&&o.push(n)})),o.forEach((function(e){return e.style.border="2px solid ".concat(r)})),function(e){if(2===e.length){var t=document.createElement("div"),n=parseInt(e[0].style.left);parseInt(e[1].style.left);for(var o in i)o.toLowerCase().includes(e[0].children[0].src.split("/")[2].slice(4).toLowerCase())&&i[o]++;t.className="connector",t.style.backgroundColor=e[0].style.border.slice(9),t.style.width="".concat(parseInt(e[1].style.left)-parseInt(e[0].style.left),"%"),t.style.left="".concat(n+1,"%"),null!==document.querySelector("#markerContainer")&&document.querySelector("#markerContainer").appendChild(t)}else null!==document.querySelector(".marker")&&document.querySelectorAll(".marker")[document.querySelectorAll(".marker").length-1].remove()}(o)}function q(){if(!(window.screen.width<768)){var e=document.createElement("div"),t={type:"link",id:i.linkCounter,startPoint:null,endPoint:null},o=!1;e.id="linkPopup",s=t,u.forEach((function(e){"img"!==e.type&&"video"!==e.type&&"text"!==e.type||(o=!0)})),o?(e.innerHTML="<h1>Adding link</h1>\n             <p>Click on one of your previously created icons of drawing, image, text or video to add href to it</p>",document.querySelectorAll(".marker").forEach((function(e){return e.addEventListener("click",(function(e){return function(e,t){var o;o="IMG"===t.target.nodeName?t.target.parentNode:t.target;document.querySelectorAll('.marker[data-id="'.concat(o.dataset.id,'"]'))[0],document.querySelectorAll('.marker[data-id="'.concat(o.dataset.id,'"]'))[1],p("colorLink",i.linkCounter),document.querySelectorAll(".marker")[document.querySelectorAll(".marker").length-1].style.top="-60%",document.querySelectorAll(".marker")[document.querySelectorAll(".marker").length-1].style.border="2px solid rgb".concat(o.style.border.split("rgb")[1]),u.forEach((function(t){t.id===parseInt(o.dataset.id)&&(e.startPoint=t.startPoint,e.endPoint=t.endPoint,function(e){document.querySelector("#linkPopup").innerHTML='<h1>Adding link</h1>\n         Move video to the point where the marker should be linked\n         <div id="saveEdits">Save edits</div>',document.querySelector("#saveEdits").addEventListener("click",(function(){e.linkTo=n.getCurrentTime(),w(),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%"),document.querySelector("#player").style.position="static",u.push(e),U()}))}(e))}))}(t,e)}))}))):e.innerHTML="<h1>Adding link</h1>\n             <p>You don't have any created videoes, images or text to make a link of it</p>",document.querySelector("#container").append(e),document.querySelector("#player").style.width="81.5vw",le(),W(w)}}function w(){document.querySelector("#player").style.position="static",document.querySelector("#player").style.width="100%",document.querySelector("#player").style.height="100%",document.querySelector("#linkPopup").remove()}function k(){var e={type:"delete",id:i.deleteCounter,startPoint:n.getCurrentTime(),endPoint:null};document.createElement("div");le(),W(b),S(e,[i.deleteCounter,"deleteBox",'<p>Move progress bar to place where the deleted part should end and click button below</p><div id="saveEdits">Save edits</div>',"colorCut"])}function b(){document.querySelector("#deleteBox").remove()}function x(){var e={type:"mute",id:i.muteCounter,startPoint:n.getCurrentTime(),endPoint:null};document.createElement("div");S(e,[i.muteCounter,"muteBox",'<p>Move progress bar to place where the muted part should end and click button below</p><div id="saveEdits">Save edits</div>',"colorMute"]),W(E),le()}function E(){document.querySelector("#player").style.width="100%",null!==document.querySelector("#muteBox")&&document.querySelector("#muteBox").remove()}function C(){var e={type:"drawing",id:i.brushCounter,src:null,startPoint:n.getCurrentTime(),endPoint:null},t=document.createElement("div");t.id="brushBox",s=e,u.push(e),i.brushCounter++,p("brushColor",e.id),W(I),document.body.append(t,document.createElement("canvas")),document.querySelector("canvas").id="canvas",n.pauseVideo(),le(),L(e.id)}function I(){document.querySelector("#brushBox").remove(),document.querySelector("canvas").remove()}function L(e){var t,n,o,r,i;brushBox.innerHTML='<div id="toolBox">\n            <div id="brushTool" class="drawingTool">\n                <img src=\'../img/brush.png\'>\n            </div>\n            <div id="eraserTool" class="drawingTool">\n                <img src=\'../img/eraser.png\'>\n            </div>\n        </div>\n        <div id="brushSizes">\n            <div id="small" class="size"></div>\n            <div id="medium" class="size"></div>\n            <div id="big" class="size"></div>\n        </div>\n        <input type="text" placeholder="Custom brush size">\n        <div id="colorPicker">\n            <input type="color" value="#000002">\n        </div>\n        <div id="saveEdits">\n            Save\n        </div>',t=document.querySelector("canvas"),n=t.getContext("2d"),o=!1,r=0,i=0,t.width=window.innerWidth,t.height=window.innerHeight,n.lineJoin="round",n.lineCap="round",n.lineWidth="5",t.addEventListener("mousedown",(function(e){o=!0;var t=[e.offsetX,e.offsetY];r=t[0],i=t[1]})),t.addEventListener("mousemove",(function(e){if(o){n.beginPath(),n.moveTo(r,i),n.lineTo(e.offsetX,e.offsetY),n.stroke();var t=[e.offsetX,e.offsetY];r=t[0],i=t[1]}})),t.addEventListener("mouseup",(function(){return o=!1})),t.addEventListener("mouseout",(function(){return o=!1})),function(e){var t=document.querySelector("canvas").getContext("2d");document.querySelector("#colorPicker input").addEventListener("change",(function(){return t.strokeStyle=document.querySelector("#colorPicker input").value})),document.querySelector("#brushTool").addEventListener("click",(function(e){return function(e,t){document.querySelectorAll(".drawingTool").forEach((function(e){return e.style.backgroundColor="transparent"})),"IMG"===e.nodeName?e.parentNode.style.backgroundColor="#1d1d1d":e.style.backgroundColor="#1d1d1d",t.globalCompositeOperation="source-over"}(e.target,t)})),document.querySelector("#eraserTool").addEventListener("click",(function(e){return function(e,t){document.querySelectorAll(".drawingTool").forEach((function(e){return e.style.backgroundColor="transparent"})),"IMG"===e.nodeName?e.parentNode.style.backgroundColor="#1d1d1d":e.style.backgroundColor="#1d1d1d",t.globalCompositeOperation="destination-out"}(e.target,t)})),document.querySelector("#small").addEventListener("click",(function(e){return T(e.target,"5",t)})),document.querySelector("#medium").addEventListener("click",(function(e){return T(e.target,"10",t)})),document.querySelector("#big").addEventListener("click",(function(e){return T(e.target,"20",t)})),document.querySelector("#brushBox input").addEventListener("change",(function(){return function(e){e.lineWidth=document.querySelector("#brushBox input").value,B()}(t)})),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){u.forEach((function(t){"drawing"===t.type&&t.id===e&&(t.src=document.querySelector("canvas").toDataURL())})),document.querySelector("canvas").remove(),document.querySelector("#brushBox").className="simpleTool",document.querySelector("#brushBox").style.justifyContent="center",document.querySelector("#brushBox").innerHTML='<p>Now move video to the point where your drawing should disapear</p>\n         <div id="saveEdits">Save</div>',document.querySelector("#saveEdits").addEventListener("click",N)}(e)}))}(e)}function T(e,t,n){B(),e.style.border="5px solid #1d1d1d",document.querySelector("#brushBox input").value="",n.lineWidth=t}function B(){document.querySelectorAll(".size").forEach((function(e){return e.style.border="5px solid #fff"}))}function N(){u.forEach((function(e){e.type===s.type&&e.id===s.id&&(p("brushColor",e.id),f("brushColor",e.id),e.endPoint=n.getCurrentTime(),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%"),document.querySelector("#player").style.position="static",document.querySelector("#player").style.width="100%",document.querySelector("#brushBox").remove(),document.querySelector("#goBack").remove())}))}function P(e,t){var o,r,d,c;void 0!==document.querySelector("#addUrl input").value&&(t.src=document.querySelector("#addUrl input").value,u.push(t),"img"===e?(i.imgCounter++,o=t.id,c=document.createElement("img"),u.forEach((function(e){"img"===e.type&&e.id===o&&(r=e)})),r.startPoint,d=r.id,c.src=r.src,me(),p("imgColor",r.id),c.id="editedImg",document.body.appendChild(c),n.pauseVideo(),c.onload=function(){c.width=c.width,c.height=c.height,s={type:"img",id:d},G(),document.querySelector("#editedImg").addEventListener("mousedown",(function(e){return function(e,t,n){t.preventDefault(),n.draggable=!0,function(e){var t;u.forEach((function(n){"img"===n.type&&n.id===e&&(t=n)})),document.addEventListener("mousemove",(function(e){!0===t.draggable&&(e.preventDefault(),document.querySelector("#editedImg").style.top="".concat(g(e.clientY,window.innerHeight)),document.querySelector("#editedImg").style.left="".concat(g(e.clientX,window.innerWidth)))}))}(e)}(o,e,r)})),document.querySelector("#editedImg").addEventListener("mouseup",(function(){return r.draggable=!1})),document.querySelector("#editedImg").style.left="50%",document.querySelector("#editedImg").style.top="50%"}):"sound"===e?(i.soundCounter++,function(e){var t=new Audio,o=document.createElement("div");o.className="simpleTool",o.id="audioBox",o.innerHTML='<p>Move video to the point where sound should stop playing</p><div id="saveEdits">Save</div>',document.body.appendChild(o),W(A),u.forEach((function(n){n.id===e&&"sound"===n.type&&(t.src=n.src,p("soundColor",n.id))})),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){document.querySelector("#goBack").remove(),u.forEach((function(t){t.id===e&&"sound"===t.type&&(t.endPoint=n.getCurrentTime(),document.querySelector("#player").style.position="static",document.querySelector("#player").style.width="100%",document.querySelector("#player").style.height="100%",window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%"),document.querySelector("#audioBox").remove(),p("soundColor",t.id),f("soundColor",t.id))}))}(e)})),le()}(t.id)):"video"===e&&(i.videoCounter++,function(e){var t,n=document.createElement("iframe");u.forEach((function(o){o.id===e&&"video"===o.type&&(s=o,t=o,o.src=o.src.replace("watch?v=","embed/"),o.styling.width="250",o.styling.height="150",o.styling.top="".concat(window.innerHeight/2,"px"),o.styling.left="".concat(window.innerWidth/2,"px"),n.style.top="".concat(window.innerHeight/2,"px"),n.style.left="".concat(window.innerWidth/2,"px"),n.src=o.src,p("videoColor",o.id))})),n.id="addedVideo",n.width=t.styling.width,n.height=t.styling.height,document.body.appendChild(n),me(),Y(),D(),function(e){var t;u.forEach((function(n){"video"===n.type&&n.id===e&&(t=n)})),document.querySelector("#addedVideo").addEventListener("mouseover",(function(){return function(e){var t=document.createElement("div");t.id="videoOverlayer",null===document.querySelector("#videoOverlayer")&&document.body.appendChild(t),t.style.width="".concat(document.querySelector("#addedVideo").width,"px"),t.style.height="".concat(document.querySelector("#addedVideo").height,"px"),t.style.top=document.querySelector("#addedVideo").style.top,t.style.left=document.querySelector("#addedVideo").style.left,y>0&&(t.style.transform="rotate(".concat(y,"deg)")),document.querySelector("#videoOverlayer").addEventListener("mouseout",(function(){return function(e){null!==document.querySelector("#videoOverlayer")&&document.querySelector("#videoOverlayer").remove();e.draggable=!1}(e)})),document.querySelector("#videoOverlayer").addEventListener("mousedown",(function(){return e.draggable=!0})),document.addEventListener("mouseup",(function(){return e.draggable=!1}))}(t)})),document.addEventListener("mousemove",(function(e){return function(e,t){!0===t.draggable&&(e.preventDefault(),document.querySelector("#addedVideo").style.top="".concat(g(e.clientY,window.innerHeight)),document.querySelector("#addedVideo").style.left="".concat(g(e.clientX,window.innerWidth)),document.querySelector("#videoOverlayer").style.top=document.querySelector("#addedVideo").style.top,document.querySelector("#videoOverlayer").style.left=document.querySelector("#addedVideo").style.left)}(e,t)})),document.querySelector("#sizeUp").addEventListener("mousedown",(function(){return l=setInterval((function(){return X("up")}),1e3/60)})),document.querySelector("#sizeDown").addEventListener("mousedown",(function(){return l=setInterval((function(){return X("down")}),1e3/60)})),document.querySelector("#sizeUp").addEventListener("mouseup",(function(){return clearInterval(l)})),document.querySelector("#sizeUp").addEventListener("mouseleave",(function(){return clearInterval(l)})),document.querySelector("#sizeDown").addEventListener("mouseup",(function(){return clearInterval(l)})),document.querySelector("#heightUp").addEventListener("mousedown",(function(){return l=setInterval((function(){return _("height","up")}),1e3/60)})),document.querySelector("#heightBottom").addEventListener("mousedown",(function(){return l=setInterval((function(){return _("height","bottom")}),1e3/60)})),document.querySelector("#widthUp").addEventListener("mousedown",(function(){return l=setInterval((function(){return _("width","up")}),1e3/60)})),document.querySelector("#widthBottom").addEventListener("mousedown",(function(){return l=setInterval((function(){return _("width","bottom")}),1e3/60)})),document.querySelector("#heightUp").addEventListener("mouseup",(function(){return clearInterval(l)})),document.querySelector("#heightBottom").addEventListener("mouseup",(function(){return clearInterval(l)})),document.querySelector("#widthUp").addEventListener("mouseup",(function(){return clearInterval(l)})),document.querySelector("#widthUp").addEventListener("mouseleave",(function(){return clearInterval(l)})),document.querySelector("#widthBottom").addEventListener("mouseup",(function(){return clearInterval(l)}))}(t.id)}(t.id)),oe())}function M(e){var t,o=document.createElement("div"),r=document.createElement("div");r.id="overlayer",o.id="popup",null===document.querySelector("#overlayer")&&null===document.querySelector("#popup")&&document.body.append(r,o),document.body.style.overflowY="hidden","img"===e?t={type:"img",id:i.imgCounter,src:null,draggable:!1,styling:{width:0,height:0,opacity:0,rotate:0,top:0,left:0},startPoint:n.getCurrentTime(),endPoint:null,header:"Adding image",instructions:"Paste URL to your image",addidions:""}:"sound"===e?t={type:"sound",id:i.soundCounter,src:null,startPoint:n.getCurrentTime(),endPoint:null,header:"Adding sound",instructions:"Paste URL to your sound",addidions:""}:"video"===e&&(t={type:"video",id:i.videoCounter,src:null,styling:{width:0,height:0,rotate:0,top:500,left:500},startPoint:n.getCurrentTime(),endPoint:null,header:"Adding video",instructions:"Paste URL to your video",addidions:""}),o.innerHTML="<div id=\"closePopup\">\n            <img src='../img/close.png'>\n         </div>\n         <h1>".concat(t.header,'</h1>\n         <div id="flexPositioner">\n            <div>\n                <p>').concat(t.instructions,'</p>\n            </div>\n            <div id="addData">\n                ').concat(t.addidions,'\n                <div id="addUrl">\n                    <input type="text">\n                </div>\n            </div>\n            <div id="addMediaBtn">\n                Add ').concat("img"===t.type?"image":t.type,"\n            </div>\n         </div>\n        "),document.querySelector("#closePopup").addEventListener("click",oe),document.querySelector("#addMediaBtn").addEventListener("click",(function(){return P(e,t)}))}function H(e){var t=document.createElement("div"),o={type:"text",id:i.textCounter,startPoint:n.getCurrentTime(),endPoint:null,text:"",draggable:!1,styling:{color:"",background:"",top:"",left:"",fontSize:""}};u.push(o),s=o,t.id="textBox",document.body.appendChild(t),le(),p("colorText",o.id),function(e){var t;W(V),document.querySelector("#textBox").innerHTML='<div id=\'ownTextBox\'>Your\'s text:<input type=\'text\' id=\'textInput\' value=\'Lorem Ispum\'></div>\n     <div id="textSize">\n        Text size:\n        <input type="number" id="textSizeInput" min="1" max="100" value="20">\n     </div>\n     <div id="textBackground">\n        Text background:\n        <input type="color" value="#000002">\n     </div>\n     <div id="textColor">\n        Text color:\n        <input type="color" value="#fdffff">\n     </div>\n     <div id="textEndPoint">\n        <div id="saveEdits">\n            Save\n        </div>\n     </div>',document.querySelector("#textInput").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#videoText").textContent=document.querySelector("#textInput").value)}(e.keyCode)})),document.querySelector("#textSize").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#videoText").style.fontSize="".concat(document.querySelector("#textSizeInput").value,"px"))}(e.keyCode)})),document.querySelector("#textBackground input").addEventListener("change",(function(){return function(e){var t=function(e){"use strict";if("#"===e.charAt(0)&&(e=e.substr(1)),e.length<2||e.length>6)return!1;var t,n,o,r=e.split("");if(2===e.length)t=parseInt(r[0].toString()+r[1].toString(),16),n=t,o=t;else if(3===e.length)t=parseInt(r[0].toString()+r[0].toString(),16),n=parseInt(r[1].toString()+r[1].toString(),16),o=parseInt(r[2].toString()+r[2].toString(),16);else{if(6!==e.length)return!1;t=parseInt(r[0].toString()+r[1].toString(),16),n=parseInt(r[2].toString()+r[3].toString(),16),o=parseInt(r[4].toString()+r[5].toString(),16)}return[t,n,o]}(document.querySelector("#textBackground input").value);e="rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", 0.8)"),document.querySelector("#videoText").style.background=e}(void 0)})),document.querySelector("#textColor input").addEventListener("change",z),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){u.forEach((function(t){t.id===s.id&&t.type===s.type&&(t.text=document.querySelector("#textInput").value,t.styling.color=document.querySelector("#textColor input").value,t.styling.background=e,t.styling.top=document.querySelector("#videoText").style.top,t.styling.left=document.querySelector("#videoText").style.left,t.styling.fontSize="".concat(document.querySelector("#textSizeInput").value,"px"),function(e){document.querySelector("#textBox").style.justifyContent="center",document.querySelector("#textBox").style.width="15%",document.querySelector("#textBox").innerHTML='<p>Move video to the point where your text should disapear</p><div id="saveEdits">Save</div>',document.querySelector("#videoText").remove(),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){p("colorText",e.id),f("colorText",e.id),document.querySelector("#goBack").remove(),e.endPoint=n.getCurrentTime(),document.querySelector("#textBox").remove(),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="81%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%"),document.querySelector("#player").style.width="100%",document.querySelector("#player").style.position="static"}(e)}))}(t))}))}(void 0)})),o=document.createElement("div"),o.id="videoText",o.textContent=document.querySelector("#textInput").value,o.style.fontSize=document.querySelector("#textSizeInput").value,document.body.appendChild(o),u.forEach((function(n){"text"===n.type&&n.id===e&&(t=n)})),document.querySelector("#videoText").className="noSelect",document.querySelector("#videoText").addEventListener("mousedown",(function(e){return function(e,t){null!==document.querySelector("#videoText")&&(e.preventDefault(),document.querySelector("#videoText").style.border="1px dashed #fff",t.draggable=!0)}(e,t)})),document.querySelector("#videoText").addEventListener("mouseup",(function(){return O(t)})),document.querySelector("#videoText").addEventListener("mouseleave",(function(){return O(t)})),document.addEventListener("mousemove",(function(e){return function(e,t){!0===t.draggable&&null!==document.querySelector("#videoText")&&(e.preventDefault(),document.querySelector("#videoText").style.top="".concat(g(e.clientY,window.innerHeight)),document.querySelector("#videoText").style.left="".concat(g(e.clientX,window.innerWidth)))}(e,t)}));var o}(i.textCounter),i.textCounter++}function z(){document.querySelector("#videoText").style.color=document.querySelector("#textColor input").value}function V(){null!==document.querySelector("#videoText")&&document.querySelector("#videoText").remove(),null!==document.querySelector("#textBox")&&document.querySelector("#textBox").remove()}function O(e){document.querySelector("#videoText").style.border="none",e.draggable=!1}function A(){document.querySelector("#audioBox").remove()}function W(e){var t=document.createElement("div");t.id="goBack",t.innerHTML="<img src='../img/goBack.png'>",null===document.querySelector("#goBack")&&document.body.appendChild(t),function(e){document.querySelector("#goBack").addEventListener("click",(function(){e(),U()}))}(e)}function U(){document.querySelector("#player").style.position="static",document.querySelector("#player").style.width="100%",document.querySelector("#player").style.height="100%",null!==document.querySelector("#goBack")&&document.querySelector("#goBack").remove(),null!==document.querySelector(".marker")&&(null===document.querySelectorAll(".marker")[document.querySelectorAll(".marker").length-1]||"link"===s.type||d||document.querySelectorAll(".marker")[document.querySelectorAll(".marker").length-1].remove()),d=!1}function D(){document.querySelector("#videoBox").innerHTML='<div id="sizeUp" class="tool">\n            <img src=\'../img/changeSize.png\'>\n        </div>\n        <div id="sizeDown" class="tool">\n            <img src=\'../img/changeSizeBottom.png\'>\n        </div>\n        <div id="heightUp" class="tool">\n            <img src=\'../img/arrowUp.png\'>\n        </div>\n        <div id="heightBottom" class="tool">\n            <img src=\'../img/arrowDown.png\'>\n        </div>\n        <div id="widthUp" class="tool">\n            <img src=\'../img/arrowRight.png\'>\n        </div>\n        <div id="widthBottom" class="tool">\n            <img src=\'../img/arrowLeft.png\'>\n        </div>'}function Y(){var e=document.createElement("div");e.id="videoStyleBox",e.dataset.direction="left";for(var t=0;t<6;t++){var n=document.createElement("div"),o=new Image;switch(t){case 0:o.src="../img/changeSide.png",n.id="switchSides",n.appendChild(o);break;case 1:o.src="../img/hide.png",n.id="hideToolBox",n.dataset.visible="visible",n.appendChild(o);break;case 2:n.id="videoBox";break;case 3:n.classList.add("videoSize","videoTool"),n.innerHTML='Width:\n                         <input id="videoWidth" type="text" placeholder="Width (values in px)" value="'.concat(document.querySelector("#addedVideo").width,'">');break;case 4:n.classList.add("videoSize","videoTool"),n.innerHTML='Height:\n                         <input id="videoHeight" type="text" placeholder="Height (values in px)" value="'.concat(document.querySelector("#addedVideo").height,'">');break;case 5:n.id="saveEdits",n.textContent="Save edits"}e.appendChild(n)}document.body.appendChild(e),D(),W(R),document.querySelector("#switchSides").addEventListener("click",(function(){return F("videoStyleBox")})),document.querySelector("#hideToolBox").addEventListener("click",(function(){return K("videoStyleBox")})),document.querySelector("#videoWidth").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#addedVideo").width=document.querySelector("#videoWidth").value)}(e.keyCode)})),document.querySelector("#videoHeight").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#addedVideo").height=document.querySelector("#videoHeight").value)}(e.keyCode)})),document.querySelector("#saveEdits").addEventListener("click",j),document.addEventListener("mouseup",J),W(R)}function R(){null!==document.querySelector("#videoStyleBox")&&document.querySelector("#videoStyleBox").remove(),null!==document.querySelector("#addedVideo")&&document.querySelector("#addedVideo").remove()}function j(e){u.forEach((function(e){e.type===s.type&&e.id===s.id&&(e.styling.width=Number(document.querySelector("#videoWidth").value),e.styling.height=Number(document.querySelector("#videoHeight").value),e.styling.top=document.querySelector("#addedVideo").style.top,e.styling.left=document.querySelector("#addedVideo").style.left,document.querySelector("#videoStyleBox").innerHTML='<p>\n                        Now move video to the point where your video should disapear \n                     </p>\n                     <div id="saveEdits">Save</div>',document.querySelector("#videoStyleBox").style.width="20%",document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){e.endPoint=n.getCurrentTime(),p("videoColor",e.id),f("videoColor",e.id),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%");document.querySelector("#addedVideo").remove(),document.querySelector("#goBack").remove(),document.querySelector("#player").style.position="static",document.querySelector("#videoStyleBox").remove()}(e)})))}))}function J(){null!==l&&clearInterval(l),null!==m&&clearInterval(m)}function _(e,t){var n,o=document.querySelector("#addedVideo");Number(o[e])<=20&&"up"!==t||(null===document.querySelector("#videoOverlayer")?(n=document.createElement("div")).id="videoOverlayer":n=document.querySelector("#videoOverlayer"),"up"===t?(n[e]=Number(n[e])+10,o[e]=Number(o[e])+10):(o[e]=Number(o[e])-10,n[e]=Number(n[e])-10),document.querySelector("#video".concat(e[0].toUpperCase()+e.slice(1))).value=Math.round(Number(o[e])))}function X(e){var t,n=document.querySelector("#addedVideo");(Number(n.width)<=20||Number(n.height)<=20)&&"up"!==e||(null===document.querySelector("#videoOverlayer")?(t=document.createElement("div")).id="videoOverlayer":t=document.querySelector("#videoOverlayer"),"up"===e?(n.width=Number(n.width)+Number(n.width)/10,n.height=Number(n.height)+Number(n.height)/10,t.width=Number(n.width)+Number(n.width)/10,t.height=Number(t.height)+Number(t.height)/10):(n.width=Number(n.width)-Number(n.width)/10,n.height=Number(n.height)-Number(n.height)/10,t.width=Number(n.width)-Number(n.width)/10,t.height=Number(t.height)-Number(t.height)/10),document.querySelector("#videoWidth").value=Math.round(Number(n.width)),document.querySelector("#videoHeight").value=Math.round(Number(n.height)))}function G(){var e=document.createElement("div");e.id="imgStyleBox",e.dataset.direction="left";for(var t=0;t<8;t++){var n=document.createElement("div"),o=new Image;switch(t){case 0:o.src="../img/changeSide.png",n.id="switchSides",n.appendChild(o);break;case 1:o.src="../img/hide.png",n.id="hideToolBox",n.dataset.visible="visible",n.appendChild(o);break;case 2:n.id="imgManipulation";break;case 3:n.classList.add("imgSize","imgTool"),n.innerHTML='Width:\n                     <input id="imgWidth" type="text" placeholder="Width (values in px)" value="'.concat(document.querySelector("#editedImg").width,'">');break;case 4:n.classList.add("imgSize","imgTool"),n.innerHTML='Height:\n                     <input id="imgHeight" type="text" placeholder="Height (values in px)" value="'.concat(document.querySelector("#editedImg").height,'">');break;case 5:n.id="imgOpacity",n.className="imgTool",n.innerHTML='Opacity:\n                     <input type="text" placeholder="Value between 0 and 100" value="100">';break;case 6:n.id="imgRotate",n.className="imgTool",n.innerHTML='Rotate:\n                     <input type="text" placeholder="Value between 0-360" value="0">';break;case 7:n.id="saveEdits",n.textContent="Save edits"}e.appendChild(n)}document.body.appendChild(e),document.querySelector("#imgManipulation").innerHTML="<div id=\"changeSize\">\n            <img src='../img/changeSize.png'>\n        </div>\n        <div id=\"changeSizeBottom\">\n            <img src='../img/changeSizeBottom.png'>\n        </div>\n        <div id=\"changeHeightUp\">\n            <img src='../img/arrowUp.png'>\n        </div>\n        <div id=\"changeHeightDown\">\n            <img src='../img/arrowDown.png'>\n        </div>\n        <div id=\"changeWidthUp\">\n            <img src='../img/arrowRight.png'>\n        </div>\n        <div id=\"changeWidthDown\">\n            <img src='../img/arrowLeft.png'>\n        </div>\n        <div id=\"rotateImage\">\n            <img src='../img/rotate.png'>\n        </div>\n        <div id=\"rotateReverseImage\">\n            <img src='../img/rotateReverse.png'>\n        </div>",document.querySelector("#rotateImage").addEventListener("mousedown",(function(){return m=setInterval((function(){return ee("right")}),1e3/60)})),document.querySelector("#rotateReverseImage").addEventListener("mousedown",(function(){return m=setInterval((function(){return ee("left")}),1e3/60)})),document.querySelector("#changeSize").addEventListener("mousedown",(function(){return te("up")})),document.querySelector("#changeSize").addEventListener("mouseleave",(function(){return clearInterval(l)})),document.querySelector("#changeSizeBottom").addEventListener("mousedown",(function(){return te("bottom")})),document.querySelector("#changeHeightUp").addEventListener("mousedown",(function(){return ne("height","up")})),document.querySelector("#changeHeightDown").addEventListener("mousedown",(function(){return ne("height","down")})),document.querySelector("#changeWidthUp").addEventListener("mousedown",(function(){return ne("width","up")})),document.querySelector("#changeWidthUp").addEventListener("mouseleave",(function(){return clearInterval(l)})),document.querySelector("#changeWidthDown").addEventListener("mousedown",(function(){return ne("width","down")})),W(Z),document.querySelector("#switchSides").addEventListener("click",(function(){return F("imgStyleBox")})),document.querySelector("#hideToolBox").addEventListener("click",(function(){return K("imgStyleBox")})),document.querySelector("#imgRotate input").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#editedImg").style.transform="translate(-50%, -50%) rotate(".concat(document.querySelector("#imgRotate input").value,"deg)"))}(e.keyCode)})),document.querySelector("#imgOpacity input").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#editedImg").style.opacity=Number(document.querySelector("#imgOpacity input").value)/100)}(e.keyCode)})),document.querySelector("#imgWidth").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#editedImg").width=document.querySelector("#imgWidth").value)}(e.keyCode)})),document.querySelector("#imgHeight").addEventListener("keydown",(function(e){return function(e){13===e&&(document.querySelector("#editedImg").height=document.querySelector("#imgHeight").value)}(e.keyCode)})),document.querySelector("#saveEdits").addEventListener("click",$),document.addEventListener("mouseup",Q)}function F(e){var t=document.querySelector("#".concat(e));"right"===t.dataset.direction?(t.dataset.direction="left",t.style.left="0%",t.style.right="auto"):(t.dataset.direction="right",t.style.right="0%",t.style.left="auto")}function K(e){var t=document.createElement("div"),n=new Image;t.id="hideTool",t.appendChild(n),n.src="../img/hide.png",document.body.appendChild(t),"right"===document.querySelector("#".concat(e)).dataset.direction?document.querySelector("#hideTool").style.left="90%":document.querySelector("#hideTool").style.left="7%",document.querySelector("#".concat(e)).remove(),document.querySelector("#hideTool").addEventListener("click",(function(){return function(e){document.querySelector("#hideTool").remove(),e.includes("video")?Y():G()}(e)})),W(R)}function Q(){null!==l&&clearInterval(l),null!==m&&clearInterval(m)}function Z(){null!==document.querySelector("#editedImg")&&document.querySelector("#editedImg").remove(),null!==document.querySelector("#imgManipulation")&&document.querySelector("#imgManipulation").remove(),null!==document.querySelector("#imgStyleBox")&&document.querySelector("#imgStyleBox").remove()}function $(){u.forEach((function(e){e.type===s.type&&e.id===s.id&&(e.styling.width=Number(document.querySelector("#imgWidth").value),e.styling.height=Number(document.querySelector("#imgHeight").value),e.styling.opacity=Number(document.querySelector("#imgOpacity input").value),e.styling.rotate=Number(document.querySelector("#imgRotate input").value),e.styling.top=document.querySelector("#editedImg").style.top,e.styling.left=document.querySelector("#editedImg").style.left,document.querySelector("#imgStyleBox").innerHTML='<p>\n                    Now move video to the point where your image should disapear \n                 </p>\n                 <div id="saveEdits">Save</div>',document.querySelector("#imgStyleBox").style.width="20%",document.querySelector("#goBack").remove(),document.querySelector("#saveEdits").addEventListener("click",(function(){return function(e){e.endPoint=n.getCurrentTime(),p("imgColor",e.id),f("imgColor",e.id),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%");document.querySelector("#player").style.position="static",document.querySelector("#imgStyleBox").remove(),document.querySelector("#editedImg").remove()}(e)})))}))}function ee(e){document.querySelector("#editedImg").style.transform="translate(-50%, -50%) rotate(".concat("right"===e?a+=1:a-=1,"deg)"),document.querySelector("#imgRotate input").value=a+"deg"}function te(e){l=setInterval((function(){if("up"===e)document.querySelector("#editedImg").width+=document.querySelector("#editedImg").width/10,document.querySelector("#editedImg").height+=document.querySelector("#editedImg").height/10;else if("bottom"===e){if(document.querySelector("#editedImg").width<2||document.querySelector("#editedImg").height<2)return;document.querySelector("#editedImg").width-=document.querySelector("#editedImg").width/10,document.querySelector("#editedImg").height-=document.querySelector("#editedImg").height/10}document.querySelector("#imgHeight").value=document.querySelector("#editedImg").height,document.querySelector("#imgWidth").value=document.querySelector("#editedImg").width}),1e3/60)}function ne(e,t){l=setInterval((function(){if("up"===t)document.querySelector("#editedImg")[e]=document.querySelector("#editedImg")[e]+5;else if("down"===t){if(document.querySelector("#editedImg").width<2||document.querySelector("#editedImg").height<2)return;document.querySelector("#editedImg")[e]=document.querySelector("#editedImg")[e]-5}!function(e,t){document.querySelector(e).value=t}("#img".concat(e[0].toUpperCase()+e.slice(1)),document.querySelector("#editedImg")[e])}),1e3/60)}function oe(){document.querySelector("#popup").remove(),document.querySelector("#overlayer").remove()}null!==document.querySelector("#toolsBox")&&(function(){if("undefined"==typeof YT||void 0===YT.Player){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.src="https://www.youtube.com/iframe_api",t.parentNode.insertBefore(e,t),window.onYouTubePlayerAPIReady=function(){ce()}}else ce()}(),c=null===localStorage.getItem("videos")?[]:JSON.parse(localStorage.getItem("videos")),function(){if(!ae()){var e=document.createElement("div");e.id="markerContainer",document.querySelector("#container").appendChild(e),window.screen.width>=1600?document.querySelector("#markerContainer").style.width="81%":window.screen.width>=768&&(document.querySelector("#markerContainer").style.width="71%")}}(),window.screen.width<768&&(document.querySelector("#link").style.opacity="0.1"),document.querySelector("#howTo").addEventListener("click",se));var re=null;function ie(e,t){r=t,o=e;setInterval(ue,1);null!==document.querySelector("#player")&&(me(),W(de)),o.seekTo(0,!0),o.playVideo()}function de(){n.pauseVideo(),window.screen.width>=1600?null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="83%"):null!==document.querySelector("#markerContainer")&&(document.querySelector("#markerContainer").style.width="75%"),document.querySelector("#player").style.position="static",null!==document.querySelector("#editedImg")&&document.querySelector("#editedImg").remove(),null!==document.querySelector("#playingVideo")&&document.querySelector("#playingVideo").remove(),null!==document.querySelector("#videoText")&&document.querySelector("#videoText").remove(),null!==document.querySelector("#addedDrawing")&&document.querySelector("#addedDrawing").remove()}function ue(){r.forEach((function(e){e.hasOwnProperty("url")||(Math.round(e.startPoint)===Math.round(o.getCurrentTime())&&function(e){"mute"===e.type?o.isMuted()||o.mute():"img"===e.type?function(e){if(null===document.querySelector("#editedImg")){var t=document.createElement("img");for(var n in t.src=e.src,t.id="editedImg",t.style.zIndex="99999",document.body.appendChild(t),e.styling)"width"===n&&(t.style[n]="".concat(e.styling[n],"px")),"height"===n&&(t.style[n]="".concat(e.styling[n],"px")),t.style[n]=e.styling[n]}}(e):"text"===e.type?function(e){var t=document.createElement("div");for(key in t.id="videoText",null===document.querySelector("#videoText")&&document.body.appendChild(t),t.textContent=e.text,e.styling)document.querySelector("#videoText").style[key]=e.styling[key]}(e):"drawing"===e.type?function(e){var t=document.createElement("img");t.src=e.src,t.id="addedDrawing",null===document.querySelector("#addedDrawing")&&document.body.appendChild(t)}(e):"sound"===e.type?function(e){null===re&&((re=new Audio).src=e.src,re.play())}(e):"delete"===e.type?function(e){o.seekTo(e.endPoint)}(e):"video"===e.type?function(e){var t=document.createElement("iframe");for(var n in t.id="playingVideo",t.src=e.src,null===document.querySelector("#playingVideo")&&document.body.appendChild(t),e.styling)"width"===n&&(t.style[n]="".concat(e.styling[n],"px")),"height"===n&&(t.style[n]="".concat(e.styling[n],"px")),t.style[n]=e.styling[n]}(e):"link"===e.type&&function(e){null!==document.querySelector("#editedImg")&&document.querySelector("#editedImg").addEventListener("click",(function(){document.querySelector("#editedImg").remove(),o.seekTo(e.linkTo)}))}(e)}(e),Math.round(e.endPoint)===Math.round(o.getCurrentTime())&&function(e){"mute"===e.type?o.isMuted()&&o.unMute():"img"===e.type?null!==document.querySelector("#editedImg")&&document.querySelector("#editedImg").remove():"drawing"===e.type?null!==document.querySelector("#addedDrawing")&&document.querySelector("#addedDrawing").remove():"sound"===e.type?re.pause():"video"===e.type?null!==document.querySelector("#playingVideo")&&document.querySelector("#playingVideo").remove():"text"===e.type&&null!==document.querySelector("#videoText")&&document.querySelector("#videoText").remove()}(e))}))}function ce(){n=new YT.Player("player",{videoId:sessionStorage.getItem("url"),events:{onReady:v},playerVars:{rel:0,showinfo:0,ecver:2}})}function le(){document.querySelector("#player").style.position="absolute",document.querySelector("#player").style.top="0",document.querySelector("#player").style.left="0",ae()?(document.querySelector("#player").style.width="100%",document.querySelector("#player").style.height="75%"):window.screen.width>=1600?(document.querySelector("#markerContainer").style.width="83%",document.querySelector("#player").style.width="85%",document.querySelector("#player").style.height="100%"):(document.querySelector("#markerContainer").style.width="67%",document.querySelector("#player").style.width="70%",document.querySelector("#player").style.height="100%")}function ae(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function me(){le(),ae()||(document.querySelector("#markerContainer").style.width="98%",document.querySelector("#player").style.width="100%")}function se(){var e=document.createElement("div"),t=document.createElement("div");t.id="overlayer",e.className="infoBox",e.innerHTML='<div id="tubeditInfo">\n            <span>Tubedit</span>\n            <h2>\n                Choose one of many tools avaiable in right panel. Each tool has same action plan. Do the job that tool is supposed to do and move the video progress bar to the point when the job done by the tool should be end.\n            </h2>\n            <div id="tubeditInfoBtn">Ok</div>\n        </div>',document.body.append(t,e),document.querySelector("#tubeditInfoBtn").addEventListener("click",(function(){document.querySelector("#overlayer").remove(),document.querySelector(".infoBox").remove()}))}var ye,ve;function pe(){null===localStorage.getItem("videos")||0===JSON.parse(localStorage.getItem("videos")).length?document.querySelector("#container").innerHTML='<div id="noVideos">\n            <div class="noVideosElements">\n                <img src=\'../img/sleepingVideo.png\'>\n            </div>\n            <div class="noVideosElements">You haven\'t got any videos saved</div>\n         </div> ':(JSON.parse(localStorage.getItem("videos")).forEach((function(e){document.querySelector("#container").innerHTML+='<div data-id="'.concat(e[0].id,'" class="videoBox">\n                    <div class="removeVideo"><img src="../img/close.png"></div>\n                    <div class="videoTitle">').concat(""===e[0].title?"Untitled video":e[0].title,"</div>\n                    <img src='").concat(e[0].img,'\' alt="Video miniature">\n                </div>')})),document.querySelectorAll(".videoBox").forEach((function(e){return e.addEventListener("click",he)})),document.querySelectorAll(".removeVideo img").forEach((function(e){return e.addEventListener("click",ge)})))}function ge(e){var t=e.target.parentNode.parentNode.dataset.id,n=JSON.parse(localStorage.getItem("videos")),o=[];n.forEach((function(e){JSON.parse(e[0].id)!==parseInt(t)&&o.push(e)})),localStorage.setItem("videos",JSON.stringify(o)),e.target.parentNode.parentNode.remove(),0===JSON.parse(localStorage.getItem("videos")).length&&localStorage.setItem("videoCounter",0),document.querySelector("#container").innerHTML="",pe()}function he(e){var t,n,o;e.target.src.includes("close")||(t="IMG"===e.target.nodeName?e.target.parentNode:e.target,JSON.parse(localStorage.getItem("videos")).forEach((function(e){parseInt(e[0].id)===parseInt(t.dataset.id)&&(ye=e)})),n=document.createElement("div"),(o=document.createElement("div")).id="watchingVideoOverlayer",n.id="watcher",document.body.append(o,n),function(){if("undefined"==typeof YT||void 0===YT.Player){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.src="https://www.youtube.com/iframe_api",t.parentNode.insertBefore(e,t),window.onYouTubePlayerAPIReady=function(){Se()}}else Se()}())}function Se(){ve=new YT.Player("watcher",{videoId:sessionStorage.getItem("url"),events:{onReady:fe},playerVars:{controls:0,rel:0,showinfo:0,ecver:2}})}function fe(){return ie(ve,ye)}null!==document.querySelector(".watchContainer")&&pe()},function(e,t){}]);